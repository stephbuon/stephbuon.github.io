---
layout: page
title: Interactive Graph Gallery
description: Explore interactive knowledge graphs and topic models.
---

<h1>Interactive Graph Gallery</h1>
<p>
These visualizations are loaded only when you click <strong>“Load Graph”</strong>.
This keeps the page lightweight while still giving you access to every interactive network and topic model.
</p>

<input id="graphSearch" type="text" placeholder="Search graphs..." style="
  width: 100%;
  max-width: 400px;
  padding: 0.6rem 0.8rem;
  margin: 1.2rem 0;
  border: 1px solid #ccc;
  border-radius: 8px;
  font-size: 1rem;
">

<style>
.graph-section { margin-bottom: 3rem; }
.graph-block {
  border: 1px solid #eee;
  border-radius: 12px;
  padding: 1rem;
  margin-bottom: 1.5rem;
  background: #fff;
  transition: box-shadow 0.2s ease;
}
.graph-block:hover { box-shadow: 0 4px 14px rgba(0,0,0,0.08); }
.graph-header { display: flex; align-items: center; justify-content: space-between; }
.graph-title { font-size: 1.1rem; font-weight: 600; margin: 0; }
.load-btn {
  padding: 0.4rem 0.8rem; border: none; background: #007acc; color: #fff;
  border-radius: 6px; cursor: pointer; font-size: 0.9rem; transition: background 0.2s ease;
}
.load-btn:hover { background: #005fa3; }
.graph-holder {
  margin-top: 0.8rem; height: 800px; border: 1px solid #ddd; border-radius: 8px;
  background: #fafafa; display: flex; align-items: center; justify-content: center;
  color: #888; font-size: 0.9rem;
}
</style>

<!-- Momchilovo -->
<section class="graph-section">
  <h2>Momchilovo Graphs</h2>
  {% for g in site.data.graphs %}
    {% if g.title contains "Momchilovo" %}
    <div class="graph-block" data-title="{{ g.title | downcase }}" data-src="{{ g.path | relative_url }}">
      <div class="graph-header">
        <h3 class="graph-title">{{ g.title }}</h3>
        <button class="load-btn" type="button">Load Graph</button>
      </div>
      <div class="graph-holder">Graph not loaded</div>
    </div>
    {% endif %}
  {% endfor %}
</section>

<!-- Nobody -->
<section class="graph-section">
  <h2>"Nobody" Network Graphs</h2>
  {% for g in site.data.graphs %}
    {% if g.title contains "Nobody" %}
    <div class="graph-block" data-title="{{ g.title | downcase }}" data-src="{{ g.path | relative_url }}">
      <div class="graph-header">
        <h3 class="graph-title">{{ g.title }}</h3>
        <button class="load-btn" type="button">Load Graph</button>
      </div>
      <div class="graph-holder">Graph not loaded</div>
    </div>
    {% endif %}
  {% endfor %}
</section>

<!-- Topic Models -->
<section class="graph-section">
  <h2>Topic Models</h2>
  {% for g in site.data.graphs %}
    {% if g.title contains "Topic" %}
    <div class="graph-block" data-title="{{ g.title | downcase }}" data-src="{{ g.path | relative_url }}">
      <div class="graph-header">
        <h3 class="graph-title">{{ g.title }}</h3>
        <button class="load-btn" type="button">Load Graph</button>
      </div>
      <div class="graph-holder">Graph not loaded</div>
    </div>
    {% endif %}
  {% endfor %}
</section>

<script>
// Search filter
const searchInput = document.getElementById('graphSearch');
if (searchInput) {
  searchInput.addEventListener('input', () => {
    const q = searchInput.value.trim().toLowerCase();
    document.querySelectorAll('.graph-block').forEach(block => {
      const t = block.getAttribute('data-title') || '';
      block.style.display = t.includes(q) ? '' : 'none';
    });
  });
}

// Lazy load iframes on button click
document.addEventListener('click', (e) => {
  if (!e.target.matches('.load-btn')) return;
  const block = e.target.closest('.graph-block');
  const holder = block.querySelector('.graph-holder');
  const src = block.getAttribute('data-src');
  if (!src) return;

  // Prevent double loading
  if (holder.querySelector('iframe')) return;

  const iframe = document.createElement('iframe');
  iframe.src = src;
  iframe.loading = 'lazy';
  iframe.width = '100%';
  iframe.height = '100%';
  iframe.style.border = '0';

  holder.innerHTML = '';
  holder.appendChild(iframe);
  e.target.textContent = 'Loaded';
  e.target.disabled = true;
  e.target.style.background = '#aaa';
});
</script>
